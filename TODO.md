# TODO

- [x] aggr.run([]receivers, channel)
- [x] twitch receiver
- [ ] Twitch process pings and pongs (otherwise it's disconnected in 10 minutes)
- [ ] tiktok recevier
- [ ] play sound on message received
- [ ] Unhappy paths
- [ ] Handle errors

## TikTok

```
wss://webcast16-ws-useast1a.tiktok.com/webcast/im/ws_proxy/ws_reuse_supplement/?version_code=180800&device_platform=web&cookie_enabled=true&screen_width=1920&screen_height=1200&browser_language=en-US&browser_platform=Win32&browser_name=Mozilla&browser_version=5.0%20(Windows)&browser_online=true&tz_name=Asia/Qyzylorda&app_name=tiktok_web&sup_ws_ds_opt=1&version_code=270000&update_version_code=2.0.0&compress=gzip&wrss=RAQWxAI-1VenWdao4pD1zE6LeYcdYxfYtrOnWr1gRL0&host=https://webcast.tiktok.com&aid=1988&live_id=12&debug=false&app_language=en&room_id=7460287318307228421&identity=audience&history_comment_count=6&heartbeat_duration=0&last_rtt=349&internal_ext=fetch_time:1736994079661|start_time:0|ack_ids:,,|flag:0|seq:1|next_cursor:1736994079661_7460332706816066000_1_7460332182830055425_7460332633801624742_0|wss_info:0-1736994079661-0-0&cursor=1736994079661_7460332706816066000_1_7460332182830055425_7460332633801624742_0&history_comment_cursor=7460309504766839557&resp_content_type=protobuf&did_rule=3
```

```

Decode base64 and binary
```

CIeAgICAgICAEBDQg/zthpHMk2oYuEUgCCoVCg1jb21wcmVzc190eXBlEgRub25lMgJwYjoDbXNnQqURCpERChJXZWJjYXN0Q2hhdE1lc3NhZ2US7hAKUgoSV2ViY2FzdENoYXRNZXNzYWdlEIaWybXDtpvEZxiFlrfQovmQxGcgreWy58YyMAFIAlACegZtYWxpdmGoAegHsAECuAECwAECyAGf4rLnxjIS1QwIhYia7uC73I9fGg9BcnRodXIgQXNsYW55YW5KgAcKmwJodHRwczovL3AxNi1zaWduLXNnLnRpa3Rva2Nkbi5jb20vdG9zLWFsaXNnLWF2dC0wMDY4Lzg0YmRhMmUxNDUyMGNhZjAwYzNiOGZkMzkyMzA5YWQ4fnRwbHYtdGlrdG9rLXNocmluazo3Mjo3Mi53ZWJwP2xrM3M9YTVkNDgwNzgmbm9uY2U9ODAwMzYmcmVmcmVzaF90b2tlbj01MDAxYjhhOTE1ZDNkZTE2M2VhYjNlMGY5ODYzMmUxOCZ4LWV4cGlyZXM9MTczNzE2NTYwMCZ4LXNpZ25hdHVyZT1ackVtdGJOQSUyQlVaRm83Yk1xb3lyNCUyRm9tZDM0JTNEJnNocD1hNWQ0ODA3OCZzaGNwPWZkZDM2YWY0Co8CaHR0cHM6Ly9wMTYtc2lnbi1zZy50aWt0b2tjZG4uY29tL2F3ZW1lLzEwMHgxMDAvdG9zLWFsaXNnLWF2dC0wMDY4Lzg0YmRhMmUxNDUyMGNhZjAwYzNiOGZkMzkyMzA5YWQ4LndlYnA/bGszcz1hNWQ0ODA3OCZub25jZT03OTkyJnJlZnJlc2hfdG9rZW49NWU1YmQ4ODg3ZmQxMzgxMDljODNhMDBmMmI4NzM4NTgmeC1leHBpcmVzPTE3MzcxNjU2MDAmeC1zaWduYXR1cmU9SFd4OExCeXF3TSUyQiUyRlBMdjl1STJhUG5YaXlCdyUzRCZzaHA9YTVkNDgwNzgmc2hjcD1mZGQzNmFmNAqQAmh0dHBzOi8vcDE2LXNpZ24tc2cudGlrdG9rY2RuLmNvbS9hd2VtZS8xMDB4MTAwL3Rvcy1hbGlzZy1hdnQtMDA2OC84NGJkYTJlMTQ1MjBjYWYwMGMzYjhmZDM5MjMwOWFkOC5qcGVnP2xrM3M9YTVkNDgwNzgmbm9uY2U9NDI1OTcmcmVmcmVzaF90b2tlbj02ZjgzYzIwOTU0YzI4ZTcyZjQ4ODY1YWFhNzhhMWE3MiZ4LWV4cGlyZXM9MTczNzE2NTYwMCZ4LXNpZ25hdHVyZT1EcXFmUjglMkI2WmdtMzF6blU2eTUlMkJ0Y0E3ZHk0JTNEJnNocD1hNWQ0ODA3OCZzaGNwPWZkZDM2YWY0EjsxMDB4MTAwL3Rvcy1hbGlzZy1hdnQtMDA2OC84NGJkYTJlMTQ1MjBjYWYwMGMzYjhmZDM5MjMwOWFkOFLKBAqgAmh0dHBzOi8vcDE2LXNpZ24tc2cudGlrdG9rY2RuLmNvbS90b3MtYWxpc2ctYXZ0LTAwNjgvODRiZGEyZTE0NTIwY2FmMDBjM2I4ZmQzOTIzMDlhZDh+dHBsdi10aWt0b2t4LWNvbXByZXNzX3F1YWxpdHlfMzA6NjQ6NjQud2VicD9sazNzPTFlMTk2MDViJm5vbmNlPTY4Mjk1JnJlZnJlc2hfdG9rZW49YzgxZDcxMjIyMGNiMTNhOGRhMDg2YzFhZTg4NTI2NmYmeC1leHBpcmVzPTE3MzcwMTQ0MDAmeC1zaWduYXR1cmU9TnVYN2dDcjhyTDZzYU1WUVpyQkZIdzklMkJreUElM0Qmc2hwPTFlMTk2MDViJnNoY3A9LQqkAmh0dHBzOi8vcDE2LXNpZ24tc2cudGlrdG9rY2RuLmNvbS90b3MtYWxpc2ctYXZ0LTAwNjgvODRiZGEyZTE0NTIwY2FmMDBjM2I4ZmQzOTIzMDlhZDh+dHBsdi10aWt0b2t4LWNvbXByZXNzX3F1YWxpdHlfMzA6NjQ6NjQuanBlZz9sazNzPTFlMTk2MDViJm5vbmNlPTU5MzkzJnJlZnJlc2hfdG9rZW49MDcxODc2MjhiZjk1OWE1MTBlNzBmYmMyNDZlM2M3MDcmeC1leHBpcmVzPTE3MzcwMTQ0MDAmeC1zaWduYXR1cmU9MFA3N2lsMXVGJTJGMWg2b0lqJTJCMyUyQkVTZ3lPc3VZJTNEJnNocD0xZTE5NjA1YiZzaGNwPS2yAQcIrAIQt8IBugEAggIAsgIIYXNhaG5vbG7yAkxNUzR3TGpBQkFBQUFZOWx1UDJPRDY4LUhUelRYbHdJNWlUWWFsU21WTm9kUFp2eEMzdlhZQnJxVVgyT09iT2dDNndlU1BWNHAzYkJ1GhJ0ZXN0IG1lc3NhZ2UgYWdhaW5yAmVukgECMAGaARQKDnVzZXJfdHlwZV9ydWxlEKDCHpoBGAoRY29tbXVuaXR5LWZsYWdnZWQQta+RA5oBGgoOY29tbWVudGF0b3JfaWQQhYia7uC73I9fmgESCgdkZWZhdWx0ELD15eSX+YoDmgEQCgtkZWZhdWx0X2FwcBCQTpoBEQoGcmFua1YzEOPgm+WX+YoDmgEaCg90dHBfcnVsZV9yZXJhbmsQmKrI6Zf5igOaARoKDnRpbWVzdGFtcF9kZXNjEOiCwofutcauAZoBNQoqdGlrY2FzdF9jb21tdW5pdHlfY29tbWVudF8xODg2Nl92N19yNjU1MDY5ELavvOWX+YoDmgE6Ci90aWtjYXN0X2NvbW11bml0eV9jb21tZW50XzE4ODY2X3Y3X3I2NTUwNjlfZGVzYxDJvd3pl/mKA5oBGgoPaWRjX3J1bGVfcmVyYW5rEJje0fyX+YoDmgEWCgt2MTNfcjcxMjA4OBCipqf4l/mKA6IBAQCqAQY6AEICEAe6ASA3NDUzM2RiYTkzYjI5ZGRlMGUxYzBhMjAyM2Y5MDJiYcIBAnYxGIaWybXDtpvEZyABGOgHIMHlsufGMioBLUAPSAE=

```

```

Another url:

```
wss://im-ws-va.tiktok.com/ws/v2?aid=1459&fpid=9&access_key=66cef8071abe9730af1ba3a6948e8578&device_platform=web&ttwid=1|5XfWiTRds5mhaylBKPImrkN_-DXgtkG-B9RRMVMYXlE|1735837246|3c8891d53acf7a5b4ad1071797338b13c30f14a4b3c6a6b20212539b912bd2a4&Web-Sdk-Ms-Token=1FQT3vjdULm4-zO1iY8f3ld7r4MkD_5mbSWvFN8SV6plCeL8ur9cTQKYJzPDhriB9RoIR2g0Cp8-NtgB3ByHS0tByrXVR8iWZWJMp0iglxTtP1_fUJP8H8dgpSCgheVySovqtNvhzVaZWPYAxxDTPw==
```

Another data:

```
CKKlxdMDEIO3u+fGMhgFIAEqCwoGaXNfYWNrEgExKgkKBGNvZGUSATAqFgoSOnhfZnJvbnRpZXJfbXNnX2lkEgAyADoAQpoJCOkHEMFOGAAiAk9LKAAyuwjCPrcICAEQARgbIq4ICIaCk4qgiY+5ZxABGukECiswOjE6Njg1NDMyMjM1NjQwODk3NjM4OTo3MjczNDIzMTcyODEyMDYzNzUwEAEYhoyzguKUj7lnIK+TnPHtzooDKIaCk4qgiY+5ZzAHOIaIu6Tu+pj4ZEKUAXsiYXdlVHlwZSI6NzAzLCJ0ZXh0Ijoi0J/RgNC40LLQtdGCLCDRjyDQv9GA0LjQs9C+0YLQvtCy0LjQu9CwINC00LvRjyDRgtC10LHRjyDQv9C+0LTQsNGA0L7QuiDQsiDQotC40Log0KLQvtC68J+OgdCc0L7QttC10Lwg0L/QvtC+0LHRidCw0YLRjNGB0Y8/In1KHwoIc3RyYW5nZXISEzY4NTQzMjIzNTY0MDg5NzYzODlKHAoXaW1fY2FsbGJhY2tfc3RhdHVzX2NvZGUSATBKFAoPYTpmaWx0ZXJfcmVhc29uEgExShQKD2E6ZW50cmFuY2VfdHlwZRIBMUoSCgpzb3VyY2VfYWlkEgQxMTgwSjsKE3M6Y2xpZW50X21lc3NhZ2VfaWQSJDQ5MzQ3MjI5LUY1MDctNDIyMC05Q0ZGLTU0Q0E4ODYzRTA5OUoZChRhOmRpc2FibGVfaW5uZXJfcHVzaBIBMUofCghmaWx0ZXJlZBITNjg1NDMyMjM1NjQwODk3NjM4OUoLCgZzOm1vZGUSATBQnOzzscEyWABgAGiYp/fDvIr4ihhyTE1TNHdMakFCQUFBQXZxZHBSdTNfZlNRQVJnemRtMkRENUdiSTNfcXRsZi1DbHVDcFRzMnlNbUlBckx2OFpTNGJWT2JSWm9aQ3VneHeqAQCwAQDIAf///////////wEiKzA6MTo2ODU0MzIyMzU2NDA4OTc2Mzg5OjcyNzM0MjMxNzI4MTIwNjM3NTAqWAiFiJru4Lvcj18qTE1TNHdMakFCQUFBQVk5bHVQMk9ENjgtSFR6VFhsd0k1aVRZYWxTbVZOb2RQWnZ4QzN2WFlCcnFVWDJPT2JPZ0M2d2VTUFY0cDNiQnUqWAiGiLuk7vqY+GQqTE1TNHdMakFCQUFBQXZxZHBSdTNfZlNRQVJnemRtMkRENUdiSTNfcXRsZi1DbHVDcFRzMnlNbUlBckx2OFpTNGJWT2JSWm9aQ3VneHc6HwoIc3RyYW5nZXISEzY4NTQzMjIzNTY0MDg5NzYzODk6FAoPYTpmaWx0ZXJfcmVhc29uEgExOhYKEWE6d2FzX21pbm9yX2dyb3VwEgEwOh8KCGZpbHRlcmVkEhM2ODU0MzIyMzU2NDA4OTc2Mzg5Oi4KF211bHRpX3NlbmRfbXNnX3VzZXJfaWRzEhM3MjczNDIzMTcyODEyMDYzNzUwOiIKBHJpc2sSGjY4NTQzMjIzNTY0MDg5NzYzODk6bWVkaXVtOg8KB3M6c19haWQSBDExODA6NTAyMTczNjk5NDM4NTQzNTAwMDAwMDAwMDAwMDAwMDAwMDAwZmZmZjBhZDk3MzFmZTA2MGMyUKDcu+fGMljp3LvnxjJyB1VTLUVhc3RKNTAyMTczNjk5NDM4NTQzNTAwMDAwMDAwMDAwMDAwMDAwMDAwZmZmZjBhZDk3MzFmZTA2MGMyUhpmcm9udGllcjtzdGE9MTczNjk5NDM4NTUxOVpWMzI2NjM2NjE2MzM3MzMzMTM3MzI2NjM5NjIzNDM5NjEzMDY1MzAzNDM5MzQ2MzY1NjUzNjdjMzMzOTMxMzAzNTM5MzY3YzAxOTQ2Y2VlZWU2ZjAwMDFgAA==
```

### Studying TikTok Live Connector

#### Retrieve room id from the page
